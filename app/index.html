<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
  <meta name="theme-color" content="#0a4d3c">
  <meta name="description" content="PARACEL ‚Äì Sondeo Sem√°foro: monitoreo de clima social y alerta temprana">
  <title>PARACEL ¬∑ Sondeo Sem√°foro</title>
  <link rel="manifest" href="./manifest.json">
  <link rel="icon" href="./icons/icon-192.png">
  <link rel="stylesheet" href="./styles.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <header class="topbar">
    <img id="logo" class="logo" alt="Paracel">
    <div class="titleblock">
      <div id="appTitle" class="title">PARACEL ¬∑ SONDEO SEM√ÅFORO</div>
      <div class="subtitle">Cuestionario breve para monitoreo de clima social y alerta temprana</div>
    </div>
    <div class="right">
      <div id="netPill" class="pill">Offline</div>
      <button id="btnLogout" class="btn secondary" style="display:none;">Salir</button>
    </div>
  </header>

  <main class="wrap">
    <!-- ============ LOGIN ============ -->
    <section id="cardLogin" class="card">
      <h2>Acceso</h2>
      <p class="muted">Login simple. La columna <b>hash_password</b> puede contener contrase√±a en claro o SHA-256.</p>
      <label>Usuario</label>
      <input id="loginUser" autocomplete="username" placeholder="usuario">
      <label>Contrase√±a</label>
      <input id="loginPass" type="password" autocomplete="current-password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
      <div class="row">
        <button id="btnLogin" class="btn">Ingresar</button>
        <button id="btnClear" class="btn secondary">Limpiar</button>
      </div>
      <div id="loginMsg"></div>
      <div class="hr"></div>
      <p class="muted">Modo offline: la encuesta se guarda en el tel√©fono y se sincroniza al volver la conexi√≥n.</p>
    </section>

    <!-- ============ APP ============ -->
    <section id="cardApp" class="card" style="display:none;">
      <div class="tabs">
        <button id="tabForm" class="tab active">Encuesta</button>
        <button id="tabDash" class="tab" style="display:none;">Tablero</button>
      </div>

      <!-- ================== SURVEY FORM ================== -->
      <section id="panelForm">
        <h2>Sondeo Sem√°foro</h2>

        <!-- Instructions -->
        <div class="instructions-box">
          <h3>üìã Instrucciones r√°pidas para la persona encuestadora</h3>
          <ul>
            <li>Leer la pregunta tal como est√° y marcar una opci√≥n.</li>
            <li>Registrar hechos concretos cuando existan, y separar rumor de lo observado.</li>
            <li>Si el resultado es <span class="tag-red">Rojo</span>, avisar de inmediato.</li>
            <li>Completar las acciones con respeto, promoviendo un di√°logo constructivo.</li>
          </ul>
        </div>

        <div class="hr"></div>

        <!-- ===== SECCI√ìN 0: Identificaci√≥n m√≠nima ===== -->
        <div class="section-header">
          <span class="section-number">0</span>
          <span>Identificaci√≥n m√≠nima <span class="tag-req">obligatorio</span></span>
        </div>

        <div class="qcard">
          <div class="qhead"><div class="qdim">P01</div><span class="muted">Autom√°tico</span></div>
          <div class="qtext">Fecha y hora</div>
          <input type="datetime-local" id="P01" readonly>
        </div>

        <div class="qcard">
          <div class="qhead"><div class="qdim">P02</div><span class="qreq">Obligatoria</span></div>
          <div class="qtext">Tipo de informante</div>
          <select id="P02">
            <option value="">Seleccione</option>
            <option value="Miembro comunitario">Miembro comunitario</option>
            <option value="Miembros de instituciones educativas">Miembros de instituciones educativas</option>
            <option value="Miembros del equipo de Paracel">Miembros del equipo de Paracel</option>
            <option value="Personas del √°rea salud">Personas del √°rea salud</option>
            <option value="Comerciante">Comerciante</option>
            <option value="L√≠der/lideresa local">L√≠der/lideresa local</option>
            <option value="Empresa Contratista">Empresa Contratista (alg√∫n miembro)</option>
            <option value="Autoridades municipales o departamentales">Autoridades municipales o departamentales</option>
            <option value="Miembros de la funci√≥n p√∫blica">Miembros de la funci√≥n p√∫blica</option>
            <option value="Miembros de la polic√≠a nacional">Miembros de la polic√≠a nacional</option>
            <option value="Productor/a local">Productor/a local</option>
            <option value="Organizaciones comunitarias y sociales">Organizaciones comunitarias y sociales</option>
            <option value="Referentes religiosos">Referentes religiosos</option>
            <option value="ONG">ONG</option>
            <option value="Otro">Otro</option>
          </select>
          <div id="P02OtroWrap" class="hidden">
            <label>Especifique:</label>
            <input id="P02Otro" placeholder="Tipo de informante">
          </div>
        </div>

        <div class="qcard">
          <div class="qhead"><div class="qdim">P03</div><span class="qreq">Obligatoria</span></div>
          <div class="qtext">Zona</div>
          <div class="grid3">
            <div>
              <label>Departamento</label>
              <select id="P03Depto">
                <option value="">Seleccione</option>
                <option value="Concepci√≥n">Concepci√≥n</option>
                <option value="San Pedro">San Pedro</option>
                <option value="Cordillera">Cordillera</option>
                <option value="Guair√°">Guair√°</option>
                <option value="Caaguaz√∫">Caaguaz√∫</option>
                <option value="Caazap√°">Caazap√°</option>
                <option value="Itap√∫a">Itap√∫a</option>
                <option value="Misiones">Misiones</option>
                <option value="Paraguar√≠">Paraguar√≠</option>
                <option value="Alto Paran√°">Alto Paran√°</option>
                <option value="Central">Central</option>
                <option value="√ëeembuc√∫">√ëeembuc√∫</option>
                <option value="Amambay">Amambay</option>
                <option value="Canindey√∫">Canindey√∫</option>
                <option value="Presidente Hayes">Presidente Hayes</option>
                <option value="Boquer√≥n">Boquer√≥n</option>
                <option value="Alto Paraguay">Alto Paraguay</option>
                <option value="Asunci√≥n">Asunci√≥n</option>
              </select>
            </div>
            <div>
              <label>Distrito</label>
              <input id="P03Distrito" placeholder="Nombre del distrito">
            </div>
            <div>
              <label>Comunidad o Barrio</label>
              <input id="P03Comunidad" placeholder="Nombre de comunidad o barrio">
            </div>
          </div>
        </div>

        <div class="qcard">
          <div class="qhead"><div class="qdim">P04</div><span class="qreq">Obligatoria</span></div>
          <div class="qtext">Tipo de lugar</div>
          <div class="opts-grid">
            <label class="opt-label"><input type="radio" name="P04" value="Comunidad ind√≠gena"><div class="indicator"></div><div>Comunidad ind√≠gena</div></label>
            <label class="opt-label"><input type="radio" name="P04" value="Rural no ind√≠gena"><div class="indicator"></div><div>Rural no ind√≠gena</div></label>
            <label class="opt-label"><input type="radio" name="P04" value="Urbano"><div class="indicator"></div><div>Urbano</div></label>
            <label class="opt-label"><input type="radio" name="P04" value="Alojamientos"><div class="indicator"></div><div>Alojamientos</div></label>
            <label class="opt-label"><input type="radio" name="P04" value="√Åreas operacionales"><div class="indicator"></div><div>√Åreas operacionales</div></label>
          </div>
        </div>

        <div class="hr"></div>

        <!-- ===== SECCI√ìN 1: Estado general ===== -->
        <div class="section-header">
          <span class="section-number">1</span>
          <span>Estado general <span class="muted">(n√∫cleo del √≠ndice)</span></span>
        </div>

        <div class="qcard">
          <div class="qhead"><div class="qdim">P05</div><span class="qreq">Obligatoria</span></div>
          <div class="qtext">¬øC√≥mo est√° el ambiente social hoy en la zona?</div>
          <div class="muted">Si la respuesta es 4 o 5, prestar atenci√≥n a se√±ales de alerta en la secci√≥n 2.</div>
          <div class="opts-grid" style="margin-top:10px;">
            <label class="opt-label"><input type="radio" name="P05" value="1"><div class="indicator"></div><div>1 ‚Äì Muy tranquilo</div></label>
            <label class="opt-label"><input type="radio" name="P05" value="2"><div class="indicator"></div><div>2 ‚Äì Tranquilo</div></label>
            <label class="opt-label"><input type="radio" name="P05" value="3"><div class="indicator"></div><div>3 ‚Äì Regular (normal, pero con quejas)</div></label>
            <label class="opt-label"><input type="radio" name="P05" value="4"><div class="indicator"></div><div>4 ‚Äì Tenso (ojo, hay malestar)</div></label>
            <label class="opt-label"><input type="radio" name="P05" value="5"><div class="indicator"></div><div>5 ‚Äì Muy tenso</div></label>
          </div>
        </div>

        <div class="qcard">
          <div class="qhead"><div class="qdim">P06</div><span class="qreq">Obligatoria</span></div>
          <div class="qtext">En el √∫ltimo mes, el ambiente social‚Ä¶</div>
          <div class="opts-grid">
            <label class="opt-label"><input type="radio" name="P06" value="Mejor√≥"><div class="indicator"></div><div>Mejor√≥</div></label>
            <label class="opt-label"><input type="radio" name="P06" value="Sigue igual"><div class="indicator"></div><div>Sigue igual</div></label>
            <label class="opt-label"><input type="radio" name="P06" value="Empeor√≥"><div class="indicator"></div><div>Empeor√≥</div></label>
          </div>
        </div>

        <div class="qcard">
          <div class="qhead"><div class="qdim">P07</div><span class="qreq">Obligatoria</span></div>
          <div class="qtext">¬øQu√© tanta certeza se tiene de la informaci√≥n?</div>
          <div class="muted">Certeza (jerovia) ayuda a decidir si se debe verificar con otra fuente.</div>
          <div class="opts-grid" style="margin-top:10px;">
            <label class="opt-label"><input type="radio" name="P07" value="Alta"><div class="indicator"></div><div>Alta (vio o escuch√≥ directo)</div></label>
            <label class="opt-label"><input type="radio" name="P07" value="Media"><div class="indicator"></div><div>Media (mezcla de directo y comentarios)</div></label>
            <label class="opt-label"><input type="radio" name="P07" value="Baja"><div class="indicator"></div><div>Baja (m√°s rumor)</div></label>
          </div>
        </div>

        <div class="hr"></div>

        <!-- ===== SECCI√ìN 2: Se√±ales de alerta temprana ===== -->
        <div class="section-header">
          <span class="section-number">2</span>
          <span>Se√±ales de alerta temprana <span class="muted">(gatillos de sem√°foro)</span></span>
        </div>

        <div class="qcard">
          <div class="qhead"><div class="qdim">P08</div><span class="qreq">Obligatoria</span></div>
          <div class="qtext">Durante el √∫ltimo mes, ¬øpas√≥ algo de esto?</div>
          <div class="muted">Si marca solo ¬´G Ninguno¬ª, vaya directo a P11.</div>
          <div class="opts-grid" style="margin-top:10px;">
            <label class="opt-label"><input type="checkbox" data-p08 value="A"><div class="indicator"></div><div>A ‚Äì Amenazas o advertencias</div></label>
            <label class="opt-label"><input type="checkbox" data-p08 value="B"><div class="indicator"></div><div>B ‚Äì Reuni√≥n con tono fuerte o discusi√≥n subida de tono</div></label>
            <label class="opt-label"><input type="checkbox" data-p08 value="C"><div class="indicator"></div><div>C ‚Äì Corte de ruta o anuncio de corte</div></label>
            <label class="opt-label"><input type="checkbox" data-p08 value="D"><div class="indicator"></div><div>D ‚Äì Protesta, manifestaci√≥n o convocatoria</div></label>
            <label class="opt-label"><input type="checkbox" data-p08 value="E"><div class="indicator"></div><div>E ‚Äì Nota formal o denuncia a autoridad</div></label>
            <label class="opt-label"><input type="checkbox" data-p08 value="F"><div class="indicator"></div><div>F ‚Äì Quejas vinculadas a gesti√≥n de empresas contratistas</div></label>
            <label class="opt-label"><input type="checkbox" data-p08 value="F2"><div class="indicator"></div><div>Quejas vinculadas a gesti√≥n de empresas fomentadas</div></label>
            <label class="opt-label"><input type="checkbox" data-p08 value="G" id="P08G"><div class="indicator"></div><div>G ‚Äì Ninguno</div></label>
          </div>
          <div style="margin-top:10px;">
            <label>Otro (especifique):</label>
            <input id="P08Otro" placeholder="Otra se√±al de alerta">
          </div>
        </div>

        <div id="wrapP09" class="qcard hidden">
          <div class="qhead"><div class="qdim">P09</div><span class="qreq">Obligatoria</span></div>
          <div class="qtext">Si marc√≥ A, C o D: ¬øqu√© tan cerca est√° de repetirse o crecer en la pr√≥xima semana?</div>
          <div class="opts-grid">
            <label class="opt-label"><input type="radio" name="P09" value="Baja"><div class="indicator"></div><div>Baja</div></label>
            <label class="opt-label"><input type="radio" name="P09" value="Media"><div class="indicator"></div><div>Media</div></label>
            <label class="opt-label"><input type="radio" name="P09" value="Alta"><div class="indicator"></div><div>Alta</div></label>
          </div>
        </div>

        <div id="wrapP10" class="qcard hidden">
          <div class="qhead"><div class="qdim">P10</div><span class="qreq">Obligatoria</span></div>
          <div class="qtext">¬øNecesita intervenci√≥n r√°pida?</div>
          <div class="muted">Esta pregunta permite decisi√≥n operativa inmediata. ¬´Rojo¬ª se considera urgente.</div>
          <div class="opts-grid" style="margin-top:10px;">
            <label class="opt-label opt-green"><input type="radio" name="P10" value="Verde"><div class="indicator"></div><div>üü¢ Verde ‚Äì No hace falta ahora</div></label>
            <label class="opt-label opt-yellow"><input type="radio" name="P10" value="Amarillo"><div class="indicator"></div><div>üü° Amarillo ‚Äì Conviene actuar esta semana</div></label>
            <label class="opt-label opt-red"><input type="radio" name="P10" value="Rojo"><div class="indicator"></div><div>üî¥ Rojo ‚Äì Urgente hoy o ma√±ana</div></label>
          </div>
        </div>

        <div class="hr"></div>

        <!-- ===== SECCI√ìN 3: Tema principal del malestar ===== -->
        <div class="section-header">
          <span class="section-number">3</span>
          <span>Tema principal del malestar <span class="muted">(para orientar acci√≥n)</span></span>
        </div>

        <div class="qcard">
          <div class="qhead"><div class="qdim">P11</div><span class="qreq">Obligatoria</span></div>
          <div class="qtext">¬øCu√°l es el tema principal hoy?</div>
          <div class="muted">Si hay m√°s de un tema, marque el que m√°s se repite o el que genera m√°s tensi√≥n.</div>
          <select id="P11" style="margin-top:10px;">
            <option value="">Seleccione</option>
            <option value="Trabajo local">Trabajo local (empleo, cupos, salarios)</option>
            <option value="Empresa contratistas">Empresa contratistas (trato, conducta, seguridad, incumplimientos)</option>
            <option value="Camino y tr√°nsito">Camino y tr√°nsito (polvo, ruido, camiones, accidentes)</option>
            <option value="Ambiente">Ambiente (agua, olor, humo, residuos, deforestaci√≥n)</option>
            <option value="Tierra y l√≠mites">Tierra y l√≠mites (servidumbre de paso, acceso, uso de la tierra)</option>
            <option value="Compras locales y econom√≠a">Compras locales y econom√≠a (empresas proveedoras, precios)</option>
            <option value="Relaci√≥n y comunicaci√≥n">Relaci√≥n y comunicaci√≥n (falta de informaci√≥n, promesas no cumplidas)</option>
            <option value="Impacto ambiental">Impacto ambiental (contaminaci√≥n, sequ√≠a, p√©rdida de biodiversidad)</option>
            <option value="Impacto qu√≠micos">Impacto en el suelo y las personas por el uso de qu√≠micos</option>
            <option value="Otro">Otro</option>
          </select>
          <div id="P11OtroWrap" class="hidden">
            <label>Especifique otro tema:</label>
            <input id="P11Otro" placeholder="Tema principal">
          </div>
        </div>

        <div class="qcard">
          <div class="qhead"><div class="qdim">ORIGEN</div><span class="qreq">Obligatoria</span></div>
          <div class="qtext">Este tema tiene origen del tipo‚Ä¶</div>
          <div class="opts-grid">
            <label class="opt-label"><input type="radio" name="tema_origen" value="Rumores"><div class="indicator"></div><div>Rumores</div></label>
            <label class="opt-label"><input type="radio" name="tema_origen" value="Vivencia propia"><div class="indicator"></div><div>Vivencia propia</div></label>
          </div>
        </div>

        <div id="wrapP14" class="qcard hidden">
          <div class="qhead"><div class="qdim">P14</div><span class="muted">Solo si el origen es Rumor</span></div>
          <div class="qtext">Si se trata de un rumor, ¬øpor d√≥nde corre m√°s?</div>
          <div class="opts-grid">
            <label class="opt-label"><input type="checkbox" data-p14 value="WhatsApp"><div class="indicator"></div><div>WhatsApp</div></label>
            <label class="opt-label"><input type="checkbox" data-p14 value="Facebook"><div class="indicator"></div><div>Facebook</div></label>
            <label class="opt-label"><input type="checkbox" data-p14 value="Radio local"><div class="indicator"></div><div>Radio local</div></label>
            <label class="opt-label"><input type="checkbox" data-p14 value="Boca a boca"><div class="indicator"></div><div>Boca a boca</div></label>
            <label class="opt-label"><input type="checkbox" data-p14 value="Reuni√≥n comunitaria"><div class="indicator"></div><div>Reuni√≥n comunitaria</div></label>
            <label class="opt-label"><input type="checkbox" data-p14 value="Otro"><div class="indicator"></div><div>Otro</div></label>
          </div>
          <div id="P14OtroWrap" class="hidden">
            <label>Especifique otro medio:</label>
            <input id="P14Otro" placeholder="Otro medio de difusi√≥n">
          </div>
        </div>

        <div class="hr"></div>

        <!-- ===== SECCI√ìN 5: Acci√≥n sugerida ===== -->
        <div class="section-header">
          <span class="section-number">5</span>
          <span>Acci√≥n sugerida <span class="muted">(operativa)</span></span>
        </div>

        <div class="qcard">
          <div class="qhead"><div class="qdim">P18</div><span class="qreq">Obligatoria</span></div>
          <div class="qtext">Acci√≥n recomendada principal</div>
          <div class="opts-grid">
            <label class="opt-label"><input type="radio" name="P18" value="Mensaje aclaratorio y comunicaci√≥n preventiva"><div class="indicator"></div><div>Mensaje aclaratorio y comunicaci√≥n preventiva</div></label>
            <label class="opt-label"><input type="radio" name="P18" value="Reuni√≥n con l√≠deres o comisi√≥n vecinal"><div class="indicator"></div><div>Reuni√≥n con l√≠deres o comisi√≥n vecinal</div></label>
            <label class="opt-label"><input type="radio" name="P18" value="Visita t√©cnica"><div class="indicator"></div><div>Visita t√©cnica (ambiente, caminos, agua, polvo)</div></label>
            <label class="opt-label"><input type="radio" name="P18" value="Revisi√≥n y control a contratista"><div class="indicator"></div><div>Revisi√≥n y control a contratista</div></label>
            <label class="opt-label"><input type="radio" name="P18" value="Mesa con autoridades"><div class="indicator"></div><div>Mesa con autoridades (Muni, Gobernaci√≥n, INDI, Polic√≠a)</div></label>
            <label class="opt-label"><input type="radio" name="P18" value="Otro"><div class="indicator"></div><div>Otro</div></label>
          </div>
          <div id="P18OtroWrap" class="hidden">
            <label>Especifique otra acci√≥n:</label>
            <input id="P18Otro" placeholder="Acci√≥n recomendada">
          </div>
        </div>

        <div class="qcard">
          <div class="qhead"><div class="qdim">P19</div><span class="muted">Opcional</span></div>
          <div class="qtext">Contacto local clave</div>
          <input id="P19" placeholder="Nombre y rol del contacto">
        </div>

        <div class="qcard">
          <div class="qhead"><div class="qdim">P20</div><span class="muted">Opcional</span></div>
          <div class="qtext">Adjuntos</div>
          <div class="muted">Foto, ubicaci√≥n GPS</div>
          <div class="grid3" style="margin-top:10px;">
            <div>
              <label>Foto</label>
              <input type="file" id="P20Foto" accept="image/*" capture="environment" class="file-input">
            </div>
            <div>
              <label>Ubicaci√≥n GPS</label>
              <button type="button" id="btnGPS" class="btn secondary gps-btn">üìç Capturar GPS</button>
              <div id="gpsResult" class="muted" style="margin-top:6px;"></div>
            </div>
          </div>
        </div>

        <div class="hr"></div>

        <!-- ===== Sem√°foro resultado inmediato ===== -->
        <div id="semaforoResult" class="semaforo-result hidden">
          <div class="semaforo">
            <div class="lights">
              <div id="resGreen" class="light"></div>
              <div id="resYellow" class="light"></div>
              <div id="resRed" class="light"></div>
            </div>
            <div>
              <div id="resTitle" class="semTitle">Sem√°foro</div>
              <div id="resMeta" class="muted"></div>
              <div id="resConf" class="muted"></div>
            </div>
          </div>
        </div>

        <!-- Comentario general -->
        <label>Comentario general (opcional)</label>
        <textarea id="metaComentario" placeholder="Contexto, actores, hechos, fechas, se√±ales adicionales"></textarea>

        <div class="row">
          <button id="btnSaveLocal" class="btn secondary">üíæ Guardar en el tel√©fono</button>
          <button id="btnSendNow" class="btn">üì§ Enviar ahora</button>
          <button id="btnSync" class="btn secondary">üîÑ Sincronizar pendientes</button>
        </div>

        <div id="formMsg"></div>

        <div class="hr"></div>
        <div class="row">
          <div class="muted"><b>Pendientes:</b> <span id="pendingCount">0</span></div>
          <div class="muted"><b>√öltima sync:</b> <span id="lastSync">-</span></div>
        </div>
      </section>

      <!-- ================== DASHBOARD ================== -->
      <section id="panelDash" style="display:none;">
        <h2>Tablero</h2>
        <p class="muted">Visible solo para usuarios autorizados. M√©tricas en ventana m√≥vil y sem√°foro de alertas tempranas.</p>

        <div class="hr"></div>

        <div class="grid4">
          <div>
            <label>Ventana (d√≠as)</label>
            <select id="dashWindow">
              <option value="14">14</option>
              <option value="30" selected>30</option>
              <option value="60">60</option>
              <option value="90">90</option>
            </select>
          </div>
          <div>
            <label>Tipo informante</label>
            <select id="dashTipo">
              <option value="">(todos)</option>
              <option value="Miembro comunitario">Miembro comunitario</option>
              <option value="Miembros del equipo de Paracel">Equipo Paracel</option>
              <option value="L√≠der/lideresa local">L√≠der/lideresa local</option>
              <option value="Autoridades municipales o departamentales">Autoridades</option>
              <option value="Comerciante">Comerciante</option>
              <option value="ONG">ONG</option>
            </select>
          </div>
          <div>
            <label>Comunidad</label>
            <select id="dashComunidad">
              <option value="">(todas)</option>
            </select>
          </div>
          <div>
            <label>Filtro / Buscar</label>
            <input id="dashSearch" placeholder="Ej. Ambiente, Ruta‚Ä¶">
          </div>
        </div>

        <div class="row">
          <button id="btnDash" class="btn">Actualizar tablero</button>
        </div>

        <div class="hr"></div>

        <div class="semaforo">
          <div class="lights">
            <div id="lightGreen" class="light"></div>
            <div id="lightYellow" class="light"></div>
            <div id="lightRed" class="light"></div>
          </div>
          <div>
            <div id="semTitle" class="semTitle">Sem√°foro</div>
            <div id="semMeta" class="muted">Sin datos</div>
            <div id="semExplain" class="muted"></div>
          </div>
        </div>

        <div class="hr"></div>

        <div id="kpis" class="kpis"></div>

        <div class="hr"></div>

        <!-- CHARTS SECTION -->
        <h3 class="section-title">An√°lisis Visual</h3>
        <div class="charts-grid">
          <div class="chart-card">
            <h4>Evoluci√≥n Temporal</h4>
            <canvas id="chartTimeline"></canvas>
          </div>
          <div class="chart-card">
            <h4>Alertas (Sem√°foro)</h4>
            <div style="max-height: 250px; display:flex; justify-content:center;">
              <canvas id="chartAlerts"></canvas>
            </div>
          </div>
          <div class="chart-card" style="grid-column: span 2;">
            <h4>Puntaje Agrupado por Dimensi√≥n</h4>
            <canvas id="chartDims" style="max-height: 300px;"></canvas>
          </div>
        </div>

        <div class="hr"></div>

        <h3 class="section-title">√öltimos Registros Detallados (<span id="tableCount">0</span>)</h3>
        <div id="dashTable"></div>

        <div id="dashMsg"></div>
      </section>
    </section>
  </main>

  <script src="./idb.js"></script>
  <script src="./app.js"></script>
</body>
</html>
